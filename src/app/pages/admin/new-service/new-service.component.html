<app-admin-header></app-admin-header>

<div class="page-container">
  <div class="bg-img">
    <div class="cover-image"></div>
    <div class="overlay"></div>
  </div>

  <div class="form-container">
    <div class="form-content">
      <div class="form-header">
        <hr class="my-4" />
        <h3>{{ 'services.add_new' | transloco }}</h3>
      </div>

      <form (ngSubmit)="onSubmit()" novalidate>
        <!-- Service Name -->
        <div class="form-field">
          <label for="serviceName">{{ 'services.fields.name' | transloco }}</label>
          <input id="serviceName" type="text" [(ngModel)]="newService.serviceName" name="serviceName" />
          <span class="error" *ngIf="hasError('serviceName')">{{ getError('serviceName') }}</span>
        </div>

        <!-- Service Description -->
        <div class="form-field">
          <label for="serviceDescription">{{ 'services.fields.description' | transloco }}</label>
          <textarea id="serviceDescription" rows="3" [(ngModel)]="newService.serviceDescription" name="serviceDescription"></textarea>
          <span class="error" *ngIf="hasError('serviceDescription')">{{ getError('serviceDescription') }}</span>
        </div>

        <!-- Duration -->
        <div class="form-field">
          <label for="avgDurationInMinutes">{{ 'services.fields.duration' | transloco }}</label>
          <input id="avgDurationInMinutes" type="number" [(ngModel)]="newService.avgDurationInMinutes" name="avgDurationInMinutes" />
          <span class="error" *ngIf="hasError('avgDurationInMinutes')">{{ getError('avgDurationInMinutes') }}</span>
        </div>

        <!-- Specialization -->
        <div class="form-field">
          <label for="specialization">{{ 'services.fields.specialization' | transloco }}</label>
          <select id="specialization" [(ngModel)]="newService.specializationId" name="specializationId">
            <option *ngFor="let spec of specializations" [value]="spec.id">
              {{ spec | localizedField:'name' }}
            </option>
          </select>
          <span class="error" *ngIf="hasError('specializationId')">{{ getError('specializationId') }}</span>
        </div>

        <!-- Actions -->
        <div class="form-actions">
          <button type="button" class="btn btn-outline"
            (click)="newService = { serviceName: '', serviceDescription: '', avgDurationInMinutes: 0, specializationId: 0 }">
            {{ 'common.cancel' | transloco }}
          </button>
          <button type="submit" class="btn btn-primary">
            {{ 'common.save' | transloco }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
