<div class="navbar" [dir]="translocoService.getActiveLang() === 'ar' ? 'rtl' : 'ltr'">
  <div class="navbar-content">
    <!-- Logo -->
    <div class="logo-container">
      <img src="vv_b.png" alt="Logo" class="logo-image" routerLink="/secretary-home" />
    </div>

    <!-- Nav Links -->
    <ul class="nav-links" *ngIf="!isMobileView">
      <li>
        <a routerLink="/secretary-home" routerLinkActive="active" (click)="closeAllMenus()" [title]="'header.home' | transloco">
          <i class="fas fa-home"></i>
          <span>{{ 'header.home' | transloco }}</span>
        </a>
      </li>
      <li>
        <a routerLink="/revenues" routerLinkActive="active" (click)="closeAllMenus()" [title]="'header.daybook' | transloco">
          <i class="fas fa-clipboard-list"></i>
          <span>{{ 'header.daybook' | transloco }}</span>
        </a>
      </li>
    </ul>

    <!-- Right Section: Profile + Language -->
    <div class="right-section" *ngIf="!isMobileView">
      <!-- Profile Dropdown -->
      <div class="profile-menu-container">
        <a (click)="toggleProfileMenu()" [title]="'header.profile' | transloco">
         <img 
  class="avatar"
  [src]="patient?.data?.profilePicture 
          ? BASE_URL + '/' + patient.data.profilePicture 
          : 'https://ui-avatars.com/api/?name=' + patient?.data?.firstName + '&background=24CC81&color=fff&rounded=true'"
  alt="User"
/>

          <span>{{ patient?.data?.firstName | titlecase }}</span>
          <i class="fas fa-chevron-down dropdown-icon" [class.rotate]="isProfileMenuOpen"></i>
        </a>
        <div class="profile-menu" [class.open]="isProfileMenuOpen">
          <a routerLink="/complete-data" (click)="closeAllMenus()">
            <i class="fas fa-user-cog"></i>
            {{ 'header.profile' | transloco }}
          </a>
          <!-- <a routerLink="/contact-us" (click)="closeAllMenus()">
            <i class="fas fa-envelope"></i>
            {{ 'header.contactUs' | transloco }}
          </a> -->
          <a (click)="logout()">
            <i class="fas fa-sign-out-alt"></i>
            {{ 'header.logout' | transloco }}
          </a>
        </div>
      </div>

      <!-- Language Switcher -->
      <button class="lang-switcher" (click)="toggleLanguage()" [title]="'header.languageToggle' | transloco">
        {{ currentLang === 'en' ? 'عربي' : 'EN' }}
      </button>
    </div>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" *ngIf="isMobileView">
      <div class="top-nav-items">
        <button class="lang-switcher" (click)="toggleLanguage()" [title]="'header.languageToggle' | transloco">
          {{ currentLang === 'en' ? 'عربي' : 'EN' }}
        </button>
        <button type="button" class="hamburger" (click)="toggleMenu()">
          <i class="fas" [class.fa-times]="isMenuOpen" [class.fa-bars]="!isMenuOpen"></i>
        </button>
      </div>

      <div class="mobile-menu" [class.open]="isMenuOpen">
        <a routerLink="/secretary-home" routerLinkActive="active" (click)="closeAllMenus()">
          <i class="fas fa-home"></i>
          {{ 'header.home' | transloco }}
        </a>
        <a routerLink="/revenues" routerLinkActive="active" (click)="closeAllMenus()">
          <i class="fas fa-clipboard-list"></i>
          {{ 'header.daybook' | transloco }}
        </a>
        <a routerLink="/complete-data" routerLinkActive="active" (click)="closeAllMenus()">
          <i class="fas fa-user"></i>
          {{ 'header.profile' | transloco }}
        </a>
        <!-- <a routerLink="/contact-us" routerLinkActive="active" (click)="closeAllMenus()">
          <i class="fas fa-envelope"></i>
          {{ 'header.contactUs' | transloco }}
        </a> -->
        <a (click)="logout()">
          <i class="fas fa-sign-out-alt"></i>
          {{ 'header.logout' | transloco }}
        </a>
      </div>
    </div>
  </div>
</div>
